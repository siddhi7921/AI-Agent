const response = await fetch(API_URL, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify(requestBody),
});

// ✅ Check for HTTP errors first
if (!response.ok) {
  throw new Error(`HTTP error! Status: ${response.status}`);
}

// ✅ Now safely parse JSON
const data = await response.json();

const agentResponse: AgentResponse = {
  message: data.message,
  designResultUrl: data.design_result_url,
};
